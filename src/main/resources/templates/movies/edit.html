<!DOCTYPE HTML>

<html xmlns:th="http://www.thymeleaf.org">
	
<!--Head section incorporated by fragment-->
<head th:insert="elements/fragments :: head(title = ${movie.title})"> </head>
		
<body class="bg-secondary">
	
	<!--HEADER WITH NAVBAR -->
	<th:block th:replace="elements/navbar :: navbar"></th:block>

	<!--START OF THE MAIN SECTION -->
	<main>

		<div class="container text-center ">
			<div class="row bg-light p-3  border border-black rounded" th:object="${movie}">
				
				<!-- Page title  -->
				<h1>Insert new movie</h1>
				<hr>
				<!-- Form section -->
				<div class="col-8 m-auto border rounded">
					<form
					id="form-movie"
					th:object="${movie}"
					th:action="@{/movies/edit/{id}(id = ${movie.id})}"
					method="POST">
						
						<!-- Movie title field -->
						<div class="mb-3">
						  <label for="title" class="form-label">Title</label>
						  <input type="text" class="form-control" id="title" placeholder="Insert movie title" th:field="*{title}">
						  <!-- Section used to display field errors -->
						  <div th:if="${#fields.hasErrors('title')}" class="invalid-feedback d-block">
		  						<ul>
		  							<li class="alert alert-danger" th:each="err : ${#fields.errors('title')}" th:text="${err}"></li>
		  						</ul>
		  					</div>
						</div>
						<!-- Movie director field -->
						<div class="mb-3">
						  <label for="director" class="form-label">Director</label>
						  <input type="text" class="form-control" id="director" placeholder="Insert movie director" th:field="*{director}">
						  <!-- Section used to display field errors -->
  						  <div th:if="${#fields.hasErrors('director')}" class="invalid-feedback d-block">
  		  						<ul>
  		  							<li class="alert alert-danger" th:each="err : ${#fields.errors('director')}" th:text="${err}"></li>
  		  						</ul>
  		  					</div>
						</div>
						<!-- Movie genre field -->
						<div class="mb-3">
						  <label for="genre" class="form-label">Genre</label>
						  <input type="text" class="form-control" id="genre" placeholder="Insert movie genre" th:field="*{genre}">
						  <!-- Section used to display field errors -->
    						  <div th:if="${#fields.hasErrors('genre')}" class="invalid-feedback d-block">
    		  						<ul>
    		  							<li class="alert alert-danger" th:each="err : ${#fields.errors('genre')}" th:text="${err}"></li>
    		  						</ul>
    		  					</div>
						</div>
						<!-- Movie description field -->
						<div class="mb-3">
						  <label for="description" class="form-label">Description</label>
						  <textarea class="form-control" id="description" rows="3" th:field="*{description}"></textarea>
						  <!-- Section used to display field errors -->
  						  <div th:if="${#fields.hasErrors('description')}" class="invalid-feedback d-block">
  		  						<ul>
  		  							<li class="alert alert-danger" th:each="err : ${#fields.errors('description')}" th:text="${err}"></li>
  		  						</ul>
  		  					</div>
						</div>
						<!-- Movie year field -->
						<div class="mb-3">
						  <label for="year" class="form-label">Year</label>
						  <input type="number" class="form-control" id="year" placeholder="Insert movie year" name="yearValue" th:value="*{year}">
						  <!-- Section used to display field errors -->
						  <div th:if="${#fields.hasErrors('year')}" class="invalid-feedback d-block">
		  						<ul>
		  							<li class="alert alert-danger" th:each="err : ${#fields.errors('year')}" th:text="${err}"></li>
		  						</ul>
		  					</div>
						</div>
						<!--Submit, Reset and Back buttons -->			
						<div class="d-flex mb-5">
							<button type="submit" class="btn btn-primary p-2 mx-1">Submit</button>
							<button type="reset" class="btn btn-danger p-2 mx-1">Reset</button>
							<a class="btn btn-primary p-2 ms-auto mx-1" th:href="@{/movies}">Back</a>
						</div>
					</form>
				</div>	
			</div>
		</div>
	</main>
	<!--END OF THE MAIN SECTION -->
	
</body>
</html>
